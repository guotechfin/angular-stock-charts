<input ng-model="searchString" type="text" placeholder="Filter companies" class="form-control"/>
<table>
  <thead>
    <tr>
      <th ng-click="$ctrl.orderByField='symbol'; $ctrl.orderReverse = !$ctrl.orderReverse">
        Symbol
        <span ng-class="{'hidden': $ctrl.orderByField !== 'symbol'}">
          <span ng-bind="$ctrl.orderReverse ? '&#9660' : '&#9650'" class="order-caret"></span>
        </span>
      </th>
      <th ng-click="$ctrl.orderByField='name'; $ctrl.orderReverse = !$ctrl.orderReverse">
        Company Name
        <span ng-class="{'hidden': $ctrl.orderByField !== 'name'}">
          <span ng-bind="$ctrl.orderReverse ? '&#9660' : '&#9650'" class="order-caret"></span>
        </span>
      </th>
      <th ng-click="$ctrl.orderByField='currentPrice'; $ctrl.orderReverse = !$ctrl.orderReverse">
        Current Price (USD)
        <span ng-class="{'hidden': $ctrl.orderByField !== 'currentPrice'}">
          <span ng-bind="$ctrl.orderReverse ? '&#9660' : '&#9650'" class="order-caret"></span>
        </span>
      </th>
      <th ng-click="$ctrl.orderByField='marketCap'; $ctrl.orderReverse = !$ctrl.orderReverse">
        Market Cap (USD)
        <span ng-class="{'hidden': $ctrl.orderByField !== 'marketCap'}">
          <span ng-bind="$ctrl.orderReverse ? '&#9660' : '&#9650'" class="order-caret"></span>
        </span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="company in $ctrl.companies
        | orderBy : $ctrl.orderByField : $ctrl.orderReverse
        | filter : $ctrl.filterByNameOrSymbol(searchString)"
        ng-click="$ctrl.activeStock = company.symbol">
      <td ng-bind="company.symbol"></td>
      <td ng-bind="company.name"></td>
      <td ng-bind="company.currentPrice"></td>
      <td ng-bind="company.marketCapFormatted"></td>
    </tr>
  </tbody>
</table>
