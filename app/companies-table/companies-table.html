<input ng-model="searchString" type="text" placeholder="Filter companies" class="form-control"/>
<table>
  <thead>
    <tr>
      <th ng-click="$ctrl.orderByField='symbol'; $ctrl.orderReverse = !$ctrl.orderReverse">
        <span>Symbol</span>
        <span ng-class="{'hidden': $ctrl.orderByField !== 'symbol'}">
          <span ng-bind="$ctrl.orderReverse ? '&#9660' : '&#9650'" class="order-caret"></span>
        </span>
      </th>
      <th ng-click="$ctrl.orderByField='name'; $ctrl.orderReverse = !$ctrl.orderReverse">
        <span>Company Name</span>
        <span ng-class="{'hidden': $ctrl.orderByField !== 'name'}">
          <span ng-bind="$ctrl.orderReverse ? '&#9660' : '&#9650'" class="order-caret"></span>
        </span>
      </th>
      <th ng-click="$ctrl.orderByField='currentPrice'; $ctrl.orderReverse = !$ctrl.orderReverse">
        <span>Current Price (USD)</span>
        <span ng-class="{'hidden': $ctrl.orderByField !== 'currentPrice'}">
          <span ng-bind="$ctrl.orderReverse ? '&#9660' : '&#9650'" class="order-caret"></span>
        </span>
      </th>
      <th ng-click="$ctrl.orderByField='marketCap'; $ctrl.orderReverse = !$ctrl.orderReverse">
        <span>Market Cap (USD)</span>
        <span ng-class="{'hidden': $ctrl.orderByField !== 'marketCap'}">
          <span ng-bind="$ctrl.orderReverse ? '&#9660' : '&#9650'" class="order-caret"></span>
        </span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="company in $ctrl.companies
        | orderBy : $ctrl.orderByField : $ctrl.orderReverse
        | filter : $ctrl.filterByNameOrSymbol(searchString)"
        ng-click="$ctrl.setActiveStock(company.symbol)"
        ng-class="{'active-row': company.symbol === $ctrl.getActiveStock()}">
      <td><span ng-bind="company.symbol"></span></td>
      <td><span ng-bind="company.name"></span></td>
      <td><span ng-bind="company.currentPrice"></span></td>
      <td><span ng-bind="company.marketCapFormatted"></span></td>
    </tr>
  </tbody>
</table>
